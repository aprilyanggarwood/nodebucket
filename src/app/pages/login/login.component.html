<!--
Title: login.component.html
Author: Professor Krasso
Date: 01/12/2023
Modified By: April Yang
Description: Login page template
-->

<div fxLayout="column">
  <mat-card fxFlex class="login-container">
    <mat-card-header>
      <mat-card-title class="login-title">
        Employee Sign-in Page
      </mat-card-title>
      <mat-card-subtitle>
        You must enter a valid employee ID to continue
      </mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <p-messages
        [(value)]="errorMessages"
        [enableService]="false"
      ></p-messages>

      <mat-card>
        <form [formGroup]="loginForm" (ngSubmit)="login(); loginForm.reset()">
          <mat-card-content>
            <mat-form-field>
              <input
                type="text"
                matInput
                formControlName="empId"
                placeholder="Employee ID"
              />
              <mat-error
                *ngIf="
                  loginForm.controls['empId'].hasError('required') &&
                  loginForm.controls['empId'].touched
                "
              >
                Employee ID is a required field
              </mat-error>

              <mat-error
                *ngIf="
                  loginForm.controls['empId'].hasError('pattern') &&
                  loginForm.controls['empId'].touched
                "
              >
                Employee ID must be a numerical value.
              </mat-error>
            </mat-form-field>
          </mat-card-content>

          <mat-card-actions>
            <button
              type="submit"
              fxFlex
              mat-raised-button
              color="primary"
              style="height: 50px; font-size: 18px"
              [disabled]="!loginForm.valid"
            >
              Log in
            </button>
          </mat-card-actions>
        </form>
      </mat-card>
    </mat-card-content>
  </mat-card>
</div>
