<!--
Title: login.component.html
Author: Professor Krasso
Date: 01/12/2023
Modified By: April Yang
Description: Login page template
-->

<!-- Angular flex layout -->
<div fxLayout="column">
  <!-- Begin Login Container -->
  <mat-card fxFlex class="login-container">
    <mat-card-header style="justify-content: center">
      <mat-card-title class="login-title">
        Employee Sign-in Page
      </mat-card-title>
      <mat-card-subtitle class="login-subtitle">
        You must enter a valid employee ID to continue
      </mat-card-subtitle>
    </mat-card-header>

    <mat-card-content class="empidContent">
      <!-- Display error messages  -->
      <!-- p-messages from PrimeNg -->
      <p-messages
        [(value)]="errorMessages"
        [enableService]="false"
      ></p-messages>
      <!-- Card contains form for entering employee id, and login button -->
      <mat-card class="empCard">
        <form [formGroup]="loginForm" (ngSubmit)="login(); loginForm.reset()">
          <mat-card-content>
            <!-- Employee id input field -->
            <mat-form-field class="formField">
              <input
                type="text"
                matInput
                formControlName="empId"
                placeholder="Employee ID"
              />
              <!-- Display validation errors -->
              <mat-error
                *ngIf="
                  loginForm.controls['empId'].hasError('required') &&
                  loginForm.controls['empId'].touched
                "
              >
                Employee ID is a required field
              </mat-error>

              <mat-error
                *ngIf="
                  loginForm.controls['empId'].hasError('pattern') &&
                  loginForm.controls['empId'].touched
                "
              >
                Employee ID must be a numerical value.
              </mat-error>
              <!-- End validation errors -->
            </mat-form-field>
          </mat-card-content>

          <mat-card-actions class="buttonSize">
            <!-- the submit button is disabled when the form field is no value entered  -->
            <!-- the submit button will be clickable when a value is entered in form field -->
            <button
              type="submit"
              fxFlex
              mat-raised-button
              class="loginB"
              [disabled]="!loginForm.valid"
            >
              Log in
            </button>
          </mat-card-actions>
        </form>
        <!-- End login form -->
      </mat-card>
    </mat-card-content>
    <!-- End Login Container -->
  </mat-card>
</div>
